<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                template="/WEB-INF/templates/GDFTemplate.xhtml">

    <ui:define name="content">
        <div class="col-sm-8">
            <div class="row">

                <div class="col-sm-12">
                    <div class="panel panel-default text-left">
                        <div class="panel-body">
                            <div class="col-sm-3">
                                <h:form prependId="false">
                                    <h:commandLink value="Site Home" action="#{homeMBean.redirectToSiteHome()}"/>
                                </h:form>
                            </div>
                            <div class="col-sm-3">
                                <h:form prependId="false">
                                    <h:commandLink value="My Home" action="#{homeMBean.redirectToHome}"/>
                                </h:form>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <h3><h:outputText value="Business Offers"/></h3>
            <c:choose>
                <c:when test="#{deedersOffersViewMBean.businessOffers.size()>0}">
                    <c:forEach items="#{deedersOffersViewMBean.businessOffers}" var="boffer">
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="well">
                                    <p>By:</p>
                                    <p>
                                        <h:graphicImage value="/ImageMapServlet?imgId=BO#{boffer.business.id}" height="55" width="55"/></p>

                                    <p>#{boffer.business.name}</p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="well">
                                    <p>Offer Date:<br/>
                                        <h:outputText value="#{boffer.offerDate}" >

                                        </h:outputText>
                                    </p>
                                    <p>Summary:<br/>
                                        <h:outputText value="#{boffer.intro}" /></p>

                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="well">
                                    <p>Deed Date:<br/>
                                        <h:outputText value="#{boffer.deed.dateStr}" >

                                        </h:outputText>
                                    </p>
                                    <p>Summary:<br/>
                                        <h:outputText value="#{boffer.deed.intro}" /></p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="well">

                                    <p><h:form>
                                            <h:link value="Offer Details" outcome="/view/ViewBusinessOfferDetails?faces-redirect=true" styleClass="btn btn-default">
                                                <f:param name="offerId" value="#{boffer.id}"/>
                                            </h:link>
                                        </h:form>
                                    </p>
                                    <p><h:form>
                                            <h:link value="Deed Details" outcome="/view/ViewDeedDetails?faces-redirect=true" styleClass="btn btn-default">
                                                <f:param name="deedId" value="#{boffer.deed.id}"/>
                                            </h:link>
                                        </h:form>
                                    </p>
                                </div>
                            </div>
                        </div>

                    </c:forEach>

                </c:when>
                <c:otherwise>
                    <h:outputText value="Sorry, no offers found!"/> 
                </c:otherwise>
            </c:choose> 




            <br/>
            <h3><h:outputText value="Government Offers"/></h3>
            <c:choose>
                <c:when test="#{deedersOffersViewMBean.governmentOffers.size()>0}">
                    <c:forEach items="#{deedersOffersViewMBean.governmentOffers}" var="goffer">
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="well">
                                    <p>By:</p>
                                    <p>
                                        <h:graphicImage value="/ImageMapServlet?imgId=GO#{goffer.government.id}" height="55" width="55"/>
                                    </p>
                                    <p>#{goffer.government.name}</p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="well">
                                    <p>Offer Date:<br/>
                                        <h:outputText value="#{goffer.offerDate}" >

                                        </h:outputText>
                                    </p>
                                    <p>Summary:<br/>
                                        <h:outputText value="#{goffer.intro}" /></p>

                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="well">
                                    <p>Deed Date:<br/>
                                        <h:outputText value="#{goffer.deed.deedDate}" >

                                        </h:outputText>
                                    </p>
                                    <p>Summary:<br/>
                                        <h:outputText value="#{goffer.deed.intro}" /></p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="well">

                                    <p><h:form>
                                            <h:link value="Offer Details" styleClass="btn btn-default" outcome="/view/ViewGovernmentOfferDetails?faces-redirect=true">
                                                <f:param name="offerId" value="#{goffer.id}"/>
                                            </h:link>
                                        </h:form>
                                    </p>
                                    <p><h:form>
                                            <h:link value="Deed Details" outcome="/view/ViewDeedDetails?faces-redirect=true" styleClass="btn btn-default">
                                                <f:param name="deedId" value="#{goffer.deed.id}"/>
                                            </h:link>

                                        </h:form>
                                    </p>
                                </div>
                            </div>
                        </div>

                    </c:forEach>
                </c:when>
                <c:otherwise>
                    <h:outputText value="Sorry, no offers found!"/>
                </c:otherwise>
            </c:choose>
            <br/>
            <h3><h:outputText value="NGO Offers"/></h3>
            <c:choose>
                <c:when test="#{deedersOffersViewMBean.ngoOffers.size()>0}">
                    <c:forEach items="#{deedersOffersViewMBean.ngoOffers}" var="noffer">
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="well">
                                    <p>By:</p>
                                    <p><h:graphicImage value="/ImageMapServlet?imgId=NO#{noffer.ngo.id}" height="55" width="55"/></p>
                                    <p>#{noffer.ngo.name}</p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="well">
                                    <p>Offer Date:<br/>
                                        <h:outputText value="#{noffer.offerDate}" >

                                        </h:outputText>
                                    </p>
                                    <p>Summary:<br/>
                                        <h:outputText value="#{noffer.intro}" /></p>

                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="well">
                                    <p>Deed Date:<br/>
                                        <h:outputText value="#{noffer.deed.deedDate}" >

                                        </h:outputText>
                                    </p>
                                    <p>Summary:<br/>
                                        <h:outputText value="#{noffer.deed.intro}" /></p>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="well">

                                    <p><h:form>
                                            <h:link value="Offer Details" styleClass="btn btn-default" outcome="/view/ViewNgoOfferDetails?faces-redirect=true">
                                                <f:param name="offerId" value="#{noffer.id}"/>
                                            </h:link>
                                        </h:form>
                                    </p>
                                    <p><h:form>
                                            <h:link value="Deed Details" outcome="/view/ViewDeedDetails?faces-redirect=true" styleClass="btn btn-default">
                                                <f:param name="deedId" value="#{noffer.deed.id}"/>
                                            </h:link>
                                        </h:form>
                                    </p>
                                </div>
                            </div>
                        </div>

                    </c:forEach>
                </c:when>
                <c:otherwise>
                    <h:outputText value="Sorry, no offers found!"/>
                </c:otherwise>
            </c:choose>
        </div>

    </ui:define>

</ui:composition>
